var _gre=_gre||[],recommendationEngine=recommendationEngine||{};
recommendationEngine.collect=function(b,e,d,u,v){function m(f){return"string"==typeof f&&0<f.length}function n(f,q,r){"undefined"!=typeof q&&r.push(f+" defined multiple times")}function w(f,q,r,x){return"https://recommendationengine.googleapis.com/v1alpha/catalogs/"+encodeURIComponent(f)+"/userEvents:collect?key="+encodeURIComponent(q)+"&url="+encodeURIComponent(u.substring(0,1500))+"&user_event="+encodeURIComponent(JSON.stringify(r))+"&ets="+x}if(Array.isArray(b)){for(var h,k,l,t,g=[],a=0;a<b.length;++a)if(Array.isArray(b[a])&&
2==b[a].length){var c=b[a][0],p=b[a][1];"apiKey"==c&&(n(c,h,g),h=p);"catalogId"==c&&(n(c,k,g),k=p);"logEvent"==c&&(n(c,l,g),l=p);"debug"==c&&(n(c,t,g),t=p)}m(h)&&m(k)&&"object"==typeof l&&(e.width=1,e.height=1,e.src=w(k,h,l,v));if(t)for(m(h)||d("apiKey missing"),m(k)||d("catalogId missing"),"object"!=typeof l&&d("logEvent object missing"),a=0;a<g.length;++a)d(g[a])}};
recommendationEngine.logEvent=function(b){var e=function(){};"object"==typeof window&&"object"==typeof window.console&&"function"==typeof window.console.log&&(e=window.console.log);var d="";"object"==typeof window&&"object"==typeof window.location&&"string"==typeof window.location.href&&(d=window.location.href);recommendationEngine.collect(b,document.createElement("img"),e,d,Date.now())};"undefined"!=typeof document&&recommendationEngine.logEvent(_gre);
